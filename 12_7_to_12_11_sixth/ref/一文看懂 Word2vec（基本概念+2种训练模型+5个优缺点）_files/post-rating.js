!function(t){"use strict";t(document).ready(function(){t(".post-rating").each(function(){function i(t){n.hasClass("m-loading")||(n.addClass("m-loading"),n.find(".c-alert-message").slideUp(150),jQuery.ajax({type:"post",url:lsvr_lore_ajax_rating_var.url,data:"action=lsvr-lore-kb-post-rating&nonce="+lsvr_lore_ajax_rating_var.nonce+"&lsvr_lore_kb_post_rating=&post_id="+s+"&rating_type="+t,success:function(t){""!==t&&(t=JSON.parse(t),t.hasOwnProperty("likes_count_abb")&&e.find("span").text(t.likes_count_abb),t.hasOwnProperty("likes_btn_title")&&e.attr("title",t.likes_btn_title),t.hasOwnProperty("dislikes_count_abb")&&a.find("span").text(t.dislikes_count_abb),t.hasOwnProperty("dislikes_btn_title")&&a.attr("title",t.dislikes_btn_title),"rating_saved"===t.status?n.find(".post-rating-saved-msg").slideDown(150,function(){setTimeout(function(){n.find(".post-rating-saved-msg").slideUp(150)},5e3)}):"already_rated"===t.status?n.find(".post-rating-already-rated-msg").slideDown(150,function(){setTimeout(function(){n.find(".post-rating-already-rated-msg").slideUp(150)},5e3)}):n.find(".post-rating-error-msg").slideDown(150,function(){setTimeout(function(){n.find(".post-rating-error-msg").slideUp(150)},5e3)}),n.removeClass("m-loading"))}}))}var n=t(this),s=n.data("post-id"),e=n.find("button.like"),a=n.find("button.dislike");n.find(".loading-animation");e.on("click",function(){i("like")}),a.on("click",function(){i("dislike")})})})}(jQuery);